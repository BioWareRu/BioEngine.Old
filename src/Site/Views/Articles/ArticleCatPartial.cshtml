@using System.Threading.Tasks
@using BioEngine.Site.Components.Url
@model BioEngine.Site.ViewModels.CatsTree<BioEngine.Common.Models.ArticleCat, BioEngine.Common.Models.Article>
@inject UrlManager UrlManager
<div class="files__cat">
    <ul class="files__list">
        <li class="files__item">
            <h2 class="files__title">
                <a class="files__link" href="@await UrlManager.Articles.CatPublicUrl(Model.Cat)">@Html.Raw(Model.Cat.Title)</a>
            </h2>
            <ul class="files__list">
                @foreach (var article in Model.LastEntities)
                {
                    <li class="files__item">
                        <a class="files__link"
                           href="@await UrlManager.Articles.PublicUrl(article)">
                            @Html.Raw(article.Title)
                        </a><br>
                        @Html.Raw(article.Announce)
                    </li>
                }
                @foreach (var child in Model.Children)
                {
                    @Html.Partial("ArticleCatPartial", child)
                }
            </ul>
        </li>
    </ul>
</div>